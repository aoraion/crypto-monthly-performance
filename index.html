<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>the Better Crypto Calendar | TBT</title>
  <meta name="description" content="The Better Crypto Calendar - Interactive historical monthly performance analysis for Bitcoin, Ethereum, and altcoins. Visualize seasonality patterns, halving cycles, and win rates.">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  
  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“Š</text></svg>">
</head>
<body>
  <!-- Animated Background -->
  <div class="bg-pattern"></div>
  
  <!-- Header -->
  <header class="header">
    <a href="https://thebettertraders.com" target="_blank" class="header-logo">
      <img src="tbt-logo.png" alt="The Better Traders" />
    </a>
    <div class="header-text">
      <h1>the Better Crypto Calendar</h1>
      <p class="subtitle">Historical Returns Analysis â€¢ Seasonality â€¢ Halving Cycles</p>
    </div>
  </header>
  
  <!-- Asset Selector -->
  <nav class="asset-selector" id="assetSelector">
    <!-- Populated by JS -->
  </nav>
  
  <!-- Main Dashboard -->
  <main class="dashboard">
    
    <!-- Monthly Forecast Section - NEW -->
    <section class="card forecast-card" id="forecastSection">
      <div class="loading"><div class="spinner"></div></div>
    </section>
    
    <!-- Quick Stats -->
    <section class="card">
      <div class="card-header">
        <h2>Key Statistics</h2>
      </div>
      <div class="card-body">
        <div class="stats-grid" id="statsGrid">
          <div class="loading"><div class="spinner"></div></div>
        </div>
      </div>
    </section>
    
    <!-- Heatmap -->
    <section class="card">
      <div class="card-header">
        <h2 id="heatmapTitle">Monthly Returns Heatmap</h2>
        <div class="heatmap-controls">
          <button class="toggle-btn" id="volatilityToggle">ðŸ“ˆ Show Volatility</button>
          <button class="toggle-btn" id="medianToggle">ðŸ“Š Use Median</button>
        </div>
      </div>
      <div class="card-body">
        <div class="heatmap-container">
          <div class="heatmap" id="heatmap">
            <div class="loading"><div class="spinner"></div></div>
          </div>
        </div>
        <div class="color-scale">
          <span class="color-scale-label">-60%</span>
          <div class="color-scale-bar"></div>
          <span class="color-scale-label">+100%</span>
        </div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, #ffd700, #ff8c00); border: 2px solid #ffd700;"></div>
            <span>Bitcoin Halving Month</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: rgba(0, 230, 118, 0.8);"></div>
            <span>Positive Return</span>
          </div>
          <div class="legend-item">
            <div class="legend-color" style="background: rgba(255, 71, 87, 0.8);"></div>
            <span>Negative Return</span>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Quarterly Performance -->
    <section class="card">
      <div class="card-header">
        <h2>Quarterly Performance</h2>
      </div>
      <div class="card-body">
        <div id="quarterlyTable">
          <div class="loading"><div class="spinner"></div></div>
        </div>
      </div>
    </section>
    
    <!-- Insights -->
    <section class="card">
      <div class="card-header">
        <h2>Seasonality Insights</h2>
      </div>
      <div class="card-body">
        <div class="insights-grid" id="insightsGrid">
          <div class="loading"><div class="spinner"></div></div>
        </div>
      </div>
    </section>
    
    <!-- Charts Row -->
    <div class="charts-row">
      <!-- Seasonality Chart -->
      <section class="card">
        <div class="card-header">
          <h2 id="seasonalityTitle">Average Return by Month</h2>
          <button class="toggle-btn" id="seasonalityMedianToggle">ðŸ“Š Use Median</button>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas id="seasonalityChart"></canvas>
          </div>
        </div>
      </section>
      
      <!-- Win Rate Chart -->
      <section class="card">
        <div class="card-header">
          <h2>Monthly Win Rate</h2>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas id="winRateChart"></canvas>
          </div>
        </div>
      </section>
    </div>
    
    <!-- Halving Timeline -->
    <section class="card">
      <div class="card-header">
        <h2>Bitcoin Halving Cycles</h2>
      </div>
      <div class="card-body">
        <div class="timeline" id="halvingTimeline">
          <div class="loading"><div class="spinner"></div></div>
        </div>
      </div>
    </section>
    
    <!-- Year Comparison -->
    <section class="card">
      <div class="card-header">
        <h2>Year-over-Year Comparison</h2>
        <div class="comparison-selectors">
          <select id="year1Select" class="year-select"></select>
          <span style="color: var(--text-muted);">vs</span>
          <select id="year2Select" class="year-select"></select>
        </div>
      </div>
      <div class="card-body">
        <div class="cycle-buttons" id="cycleButtons">
          <!-- Populated by JS -->
        </div>
        <div class="comparison-chart">
          <canvas id="comparisonChart"></canvas>
        </div>
      </div>
    </section>
    
    <!-- Bitcoin Cycle Pattern -->
    <section class="card cycle-pattern-card">
      <div class="card-header">
        <h2>The 4-Year Bitcoin Cycle</h2>
      </div>
      <div class="card-body">
        <p class="cycle-intro">
          Bitcoin follows a predictable 4-year cycle pattern aligned with each new year. Understanding this pattern helps simplify your long-term strategy:
        </p>
        <div class="cycle-phases">
          <div class="cycle-phase phase-top">
            <div class="phase-icon">ðŸ”º</div>
            <h3>Top Year</h3>
            <p>The year Bitcoin heads toward its cycle peak. Historically occurs ~11 months into the year.</p>
            <span class="phase-years">2017, 2021, 2025...</span>
          </div>
          <div class="cycle-phase phase-bottom">
            <div class="phase-icon">ðŸ”»</div>
            <h3>Bottom Year</h3>
            <p>The descent to the cycle low. Capitulation and accumulation phase.</p>
            <span class="phase-years">2018, 2022, 2026...</span>
          </div>
          <div class="cycle-phase phase-recovery">
            <div class="phase-icon">ðŸ“ˆ</div>
            <h3>Recovery Year</h3>
            <p>Slow and steady recovery from the bottom. Building momentum for the next rally.</p>
            <span class="phase-years">2019, 2023, 2027...</span>
          </div>
          <div class="cycle-phase phase-rally">
            <div class="phase-icon">ðŸš€</div>
            <h3>Rally Year</h3>
            <p>The explosive rally phase. Maximum opportunity and optimism.</p>
            <span class="phase-years">2020, 2024, 2028...</span>
          </div>
        </div>
        <p class="cycle-source">
          This pattern was shared by <a href="https://www.youtube.com/@MooninPapa" target="_blank">Aaron Dishner</a> from <a href="https://thebettertraders.com" target="_blank">The Better Traders</a> in December 2024 and has accurately marked the market phases, including the 2025 Top year.
          <a href="https://youtu.be/FGgGBrOepEE" target="_blank" class="watch-video">ðŸ“º Watch the full explanation on YouTube</a>
        </p>
      </div>
    </section>
    
  </main>
  
  <!-- Tooltip -->
  <div class="tooltip" id="tooltip">
    <div class="tooltip-title"></div>
    <div class="tooltip-value"></div>
  </div>
  
  <!-- Footer -->
  <footer class="footer">
    <p>ðŸ“Š Data visualization powered by <a href="#">TBT Analytics</a></p>
    <p style="margin-top: 0.5rem; font-size: 0.7rem;">
      Historical performance does not guarantee future results. 
      Data is for informational purposes only.
    </p>
  </footer>
  
  <!-- App Script -->
  <script src="app.js"></script>
</body>
</html>
